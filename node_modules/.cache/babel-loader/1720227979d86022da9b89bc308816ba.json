{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skand\\\\Desktop\\\\ForkStack-onlineWardrobe\\\\Front-end\\\\src\\\\Pages\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport { useHistory } from \"react-router-dom\";\nimport { FormikProvider, useFormik, Field } from \"formik\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport queryApi from \"../utils/queryApi\";\nimport GoogleLogin from \"react-google-login\";\nimport CustomSelect from \"../Components/CustomSelect\";\nimport { store, ReactNotification } from \"react-notifications-component\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register(props) {\n  _s();\n\n  const history = useHistory();\n  const [showLoader, setShowLoader] = useState(false);\n  const [error, setError] = useState({\n    visible: false,\n    message: \"\"\n  });\n  const Country = [{\n    value: 'Tunisia',\n    label: 'Tunisia'\n  }, {\n    value: 'France',\n    label: 'France'\n  }, {\n    value: 'Algeria',\n    label: 'Algeria'\n  }, {\n    value: 'Egypt',\n    label: 'Egypt'\n  }];\n\n  const validate = values => {\n    const errors = {};\n\n    if (!values.FirstName) {\n      errors.FirstName = 'Please Set Your First Name';\n    }\n\n    if (!values.LastName) {\n      errors.LastName = 'Please Set Your Last Name';\n    }\n\n    if (!values.Email) {\n      errors.Email = 'Please Set Your email';\n    }\n\n    if (!values.username) {\n      errors.username = 'Please Choose username';\n    }\n\n    if (!values.Password) {\n      errors.Password = 'Please Set Your Password';\n    } else if (values.Password.length < 8) {\n      errors.Password = 'Must be 8 characters or more';\n    } else if (values.Password === '12345678') {\n      errors.Password = 'Must not be 12345678 !!!';\n    }\n\n    if (!values.confirmpassword) {\n      errors.confirmpassword = 'Please Confirm Your Password';\n    } else if (values.confirmpassword != values.Password) {\n      errors.confirmpassword = 'Should Be the same as Password';\n    }\n\n    if (!values.Country) {\n      errors.Country = 'Please Enter your country';\n    }\n\n    if (!values.Phone) {\n      errors.Phone = 'Please enter your phone number';\n    } else if (!/^[0-9]+$/i.test(values.Phone)) {\n      errors.Phone = 'Invalid email address';\n    } else if (values.Phone.length < 8) {\n      errors.Phone = 'Must be 8 characters ';\n    } else if (values.Phone.length > 8) {\n      errors.Phone = 'Must be 8 characters';\n    }\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      FirstName: '',\n      LastName: '',\n      Email: '',\n      username: '',\n      Password: '',\n      Country: '',\n      Phone: null,\n      confirmpassword: ''\n    },\n    validate,\n    onSubmit: async values => {\n      const [res, err] = await queryApi(\"register\", {\n        FirstName: values.FirstName,\n        LastName: values.LastName,\n        Email: values.Email,\n        username: values.username,\n        Password: values.Password,\n        Country: values.Country,\n        Phone: parseInt(values.Phone)\n      }, \"POST\", true);\n\n      if (err) {\n        setShowLoader(false);\n        alert(\"Please Change your email adresse\");\n        console.log(err);\n        setError({\n          visible: true,\n          message: JSON.stringify(err.errors, null, 2)\n        });\n      } else {\n        sessionStorage.setItem(\"user\", res);\n        store.addNotification({\n          title: \"Welcome!\",\n          message: \"Your Count is created\",\n          type: \"success\",\n          insert: \"top\",\n          container: \"top-right\",\n          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n          animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n          dismiss: {\n            duration: 5000,\n            onScreen: true\n          }\n        });\n        console.log(sessionStorage.getItem(\"user\"));\n        history.push(\"/informations\");\n        window.location.reload();\n      }\n    }\n  });\n\n  const responseFacebook = async response => {\n    console.log(response);\n    const name = response.name.split(' ');\n    const [res, err] = await queryApi(\"api/facebookRegister\", {\n      Email: response.email,\n      FirstName: name[0],\n      LastName: name[1],\n      username: response.name\n    }, \"POST\", false);\n\n    if (err) {\n      setShowLoader(false);\n      console.log(err);\n      store.addNotification({\n        title: \"Sorry!\",\n        message: \"You can logged In with this account\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-right\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true\n        }\n      });\n      setError({\n        visible: true,\n        message: JSON.stringify(err.errors, null, 2)\n      });\n    } else {\n      store.addNotification({\n        title: \"Welcome!\",\n        message: \" \",\n        type: \"success\",\n        insert: \"top\",\n        container: \"top-right\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true\n        }\n      });\n      sessionStorage.setItem(\"user\", res);\n      console.log(sessionStorage.getItem(\"user\"));\n      history.push(\"/informations\");\n      window.location.reload();\n    }\n  };\n\n  const responseSuccessGoogle = async response => {\n    console.log(response.tokenId);\n    const [res, err] = await queryApi(\"api/googleRegister\", {\n      tokenId: response.tokenId\n    }, \"POST\", false);\n\n    if (err) {\n      setShowLoader(false);\n      console.log(err);\n      setError({\n        visible: true,\n        message: JSON.stringify(err.errors, null, 2)\n      });\n    } else {\n      sessionStorage.setItem(\"user\", res);\n      console.log(sessionStorage.getItem(\"user\"));\n      history.push(\"/informations\");\n      window.location.reload();\n    }\n  };\n\n  const responseFailureGoogle = response => {};\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-pane fade \",\n      id: \"register-2\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"register-tab-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"#\",\n        className: \"contact-form mb-3\",\n        onSubmit: formik.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"firstName\",\n              name: \"FirstName\",\n              placeholder: \"First Name *\",\n              onChange: formik.handleChange,\n              onBlur: formik.handleBlur,\n              value: formik.values.FirstName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-danger\",\n              children: [\"  \", formik.touched.FirstName && formik.errors.FirstName ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                children: formik.errors.FirstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 114\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cname\",\n              className: \"sr-only\",\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"lastName\",\n              name: \"LastName\",\n              placeholder: \"Last Name *\",\n              onChange: formik.handleChange,\n              onBlur: formik.handleBlur,\n              value: formik.values.LastName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-danger\",\n              children: [\"  \", formik.touched.LastName && formik.errors.LastName ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                children: formik.errors.LastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 112\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cemail\",\n              className: \"sr-only\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"form-control\",\n              id: \"email\",\n              name: \"Email\",\n              placeholder: \"Email*\",\n              onChange: formik.handleChange,\n              onBlur: formik.handleBlur,\n              value: formik.values.Email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-danger\",\n              children: [\" \", formik.touched.Email && formik.errors.Email ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                children: formik.errors.Email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 105\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cname\",\n              className: \"sr-only\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"username\",\n              name: \"username\",\n              placeholder: \"Username *\",\n              onChange: formik.handleChange,\n              onBlur: formik.handleBlur,\n              value: formik.values.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-danger\",\n              children: [\"  \", formik.touched.username && formik.errors.username ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                children: formik.errors.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 112\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cpasssword\",\n              className: \"sr-only\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              id: \"password\",\n              name: \"Password\",\n              placeholder: \"Password *\",\n              required: true,\n              onChange: formik.handleChange,\n              onBlur: formik.handleBlur,\n              value: formik.values.Password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-danger\",\n              children: [\" \", formik.touched.Password && formik.errors.Password ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                children: formik.errors.Password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 111\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cpassword\",\n              className: \"sr-only\",\n              children: \"Confirm Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              id: \"confirmpassword\",\n              name: \"confirmpassword\",\n              placeholder: \"Confirm Password *\",\n              onChange: formik.handleChange,\n              onBlur: formik.handleBlur,\n              value: formik.values.confirmpassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-danger\",\n              children: [\"  \", formik.touched.confirmpassword && formik.errors.confirmpassword ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                children: formik.errors.confirmpassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 126\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cname\",\n              className: \"sr-only\",\n              children: \"Country\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CustomSelect, {\n              className: \"form-control bg-transparent\",\n              onChange: value => formik.setFieldValue('Country', value.value),\n              value: formik.values.Country,\n              name: \"Country\",\n              options: Country\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-danger\",\n              children: [\"  \", formik.touched.Country && formik.errors.Country ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                children: formik.errors.Country\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 110\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(FormikProvider, {\n              value: formik,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"Phone\",\n                name: \"Phone\",\n                onChange: formik.handleChange,\n                onBlur: formik.handleBlur,\n                value: formik.values.Phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"text-danger\",\n                children: formik.touched.Phone && formik.errors.Phone ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"error\",\n                  children: formik.errors.Phone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 37\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-outline-primary-2\",\n            disabled: !(formik.isValid && formik.dirty),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"icon-long-arrow-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-choice\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          children: \"or sign up with\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n              clientId: \"224688907368-fpdv128j9kb8e78c3qaal8nso19u2v69.apps.googleusercontent.com\",\n              onSuccess: responseSuccessGoogle,\n              onFailure: responseFailureGoogle,\n              cookiePolicy: 'single_host_origin',\n              value: 'Signup'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(FacebookLogin, {\n              appId: \"218233472998386\",\n              autoLoad: false,\n              fields: \"name,email,picture\",\n              textButton: \"Register\",\n              callback: responseFacebook\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Register, \"C33sujgl46QOj6mghVBSIflYF94=\", false, function () {\n  return [useHistory, useFormik];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/skand/Desktop/ForkStack-onlineWardrobe/Front-end/src/Pages/Register.js"],"names":["useHistory","FormikProvider","useFormik","Field","React","useState","axios","queryApi","GoogleLogin","CustomSelect","store","ReactNotification","FacebookLogin","Register","props","history","showLoader","setShowLoader","error","setError","visible","message","Country","value","label","validate","values","errors","FirstName","LastName","Email","username","Password","length","confirmpassword","Phone","test","formik","initialValues","onSubmit","res","err","parseInt","alert","console","log","JSON","stringify","sessionStorage","setItem","addNotification","title","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","getItem","push","window","location","reload","responseFacebook","response","name","split","email","responseSuccessGoogle","tokenId","responseFailureGoogle","handleSubmit","handleChange","handleBlur","touched","setFieldValue","isValid","dirty"],"mappings":"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","sourcesContent":["import {useHistory} from \"react-router-dom\";\nimport {FormikProvider, useFormik,Field} from \"formik\";\nimport React, {useState} from \"react\";\nimport axios from \"axios\";\nimport  queryApi  from \"../utils/queryApi\";\nimport GoogleLogin from \"react-google-login\";\nimport CustomSelect from \"../Components/CustomSelect\";\nimport {store,ReactNotification}from \"react-notifications-component\";\nimport FacebookLogin from \"react-facebook-login\";\nexport default function Register(props){\n\n    const history=useHistory();\n    const [showLoader, setShowLoader] = useState(false);\n    const [error, setError] = useState({ visible: false, message: \"\" });\n    const Country = [\n        { value: 'Tunisia', label: 'Tunisia' },\n        { value: 'France', label: 'France' },\n        { value: 'Algeria', label: 'Algeria' },\n        { value: 'Egypt', label: 'Egypt'},\n\n    ]\n    const validate = values => {\n        const errors = {}\n    \n        if (!values.FirstName) {\n            errors.FirstName = 'Please Set Your First Name'\n        }\n        if (!values.LastName) {\n            errors.LastName = 'Please Set Your Last Name'\n        }\n        if (!values.Email) {\n            errors.Email = 'Please Set Your email'\n        }\n        if (!values.username) {\n            errors.username = 'Please Choose username'\n        }\n        if (!values.Password) {\n            errors.Password = 'Please Set Your Password'\n        } else if (values.Password.length < 8) {\n            errors.Password = 'Must be 8 characters or more'\n        } else if (values.Password === '12345678') {\n            errors.Password = 'Must not be 12345678 !!!'\n        }\n        if (!values.confirmpassword) {\n            errors.confirmpassword = 'Please Confirm Your Password'\n        }else if (values.confirmpassword !=values.Password) {\n            errors.confirmpassword = 'Should Be the same as Password'\n\n        }\n        if (!values.Country) {\n            errors.Country = 'Please Enter your country'\n        }\n        if (!values.Phone) {\n            errors.Phone = 'Please enter your phone number'\n        }else if (!/^[0-9]+$/i.test(values.Phone)) {\n            errors.Phone = 'Invalid email address';\n        }else if (values.Phone.length < 8) {\n            errors.Phone = 'Must be 8 characters '\n        }else if (values.Phone.length >8) {\n            errors.Phone = 'Must be 8 characters'\n        }\n\n\n        return errors\n    }\n\n    const formik = useFormik({\n\n        initialValues: {\n            FirstName: '',\n            LastName: '',\n            Email: '',\n            username: '',\n            Password: '',\n            Country: '',\n            Phone:null,\n            confirmpassword: '',\n        },\n        validate,\n        onSubmit: async(values )=> {\n            const [res, err] = await queryApi(\"register\",{\n                FirstName:values.FirstName,\n                LastName:values.LastName,\n                Email:values.Email,\n                username:values.username,\n                Password:values.Password,\n                Country:values.Country,\n                Phone:parseInt(values.Phone),\n            }, \"POST\", true);\n\n            if (err) {\n                setShowLoader(false);\n                alert(\"Please Change your email adresse\")\n                console.log(err);\n                setError({\n                    visible: true,\n                    message: JSON.stringify(err.errors, null, 2),\n                });\n            }\n            else {\n                sessionStorage.setItem(\"user\",res);\n                store.addNotification({\n                    title: \"Welcome!\",\n                    message: \"Your Count is created\",\n                    type: \"success\",\n                    insert: \"top\",\n                    container: \"top-right\",\n                    animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                    animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                    dismiss: {\n                        duration: 5000,\n                        onScreen: true\n                    }\n                });\n                console.log(sessionStorage.getItem(\"user\"));\n                history.push(\"/informations\");\n                window.location.reload();\n\n\n            }\n\n        },\n    });\n\n\n    const responseFacebook=async(response)=>{\n        console.log(response);\n        const name=response.name.split(' ');\n        const [res, err] = await queryApi(\"api/facebookRegister\",{\n            Email:response.email,\n            FirstName:name[0],\n            LastName:name[1],\n            username:response.name,\n        },\"POST\", false);\n        if (err) {\n            setShowLoader(false);\n            console.log(err);\n            store.addNotification({\n                title: \"Sorry!\",\n                message: \"You can logged In with this account\",\n                type: \"danger\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                dismiss: {\n                    duration: 5000,\n                    onScreen: true\n                }\n            });\n\n            setError({\n                visible: true,\n                message: JSON.stringify(err.errors, null, 2),\n            });\n        } else {\n            store.addNotification({\n                title: \"Welcome!\",\n                message: \" \",\n                type: \"success\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                dismiss: {\n                    duration: 5000,\n                    onScreen: true\n                }\n            });\n\n            sessionStorage.setItem(\"user\",res);\n            console.log(sessionStorage.getItem(\"user\"));\n            history.push(\"/informations\");\n            window.location.reload();\n\n\n        }\n\n    }\n\n\n\n    const responseSuccessGoogle = async(response) => {\n        console.log(response.tokenId);\n        const [res, err] = await queryApi(\"api/googleRegister\", {\n            tokenId:response.tokenId\n        }, \"POST\", false);\n        if (err) {\n            setShowLoader(false);\n            console.log(err);\n            setError({\n                visible: true,\n                message: JSON.stringify(err.errors, null, 2),\n            });\n        }\n        else {\n            sessionStorage.setItem(\"user\",res);\n            console.log(sessionStorage.getItem(\"user\"));\n            history.push(\"/informations\");\n            window.location.reload();\n\n\n        }\n    }\n\n    const responseFailureGoogle=(response)=>{\n\n    }\n    return(\n        <>\n\n            <div className=\"tab-pane fade \" id=\"register-2\" role=\"tabpanel\"\n                 aria-labelledby=\"register-tab-2\">\n                <form action=\"#\" className=\"contact-form mb-3\" onSubmit={formik.handleSubmit}>\n                    <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                            <input type=\"text\"\n                                   className=\"form-control\"\n                                   id=\"firstName\"\n                                   name=\"FirstName\"\n                                   placeholder=\"First Name *\"\n                                   onChange={formik.handleChange}\n                                   onBlur={formik.handleBlur}\n                                   value={formik.values.FirstName}\n                            />\n                            <h6 className=\"text-danger\">  {formik.touched.FirstName && formik.errors.FirstName ? <div className='error'>{formik.errors.FirstName}</div> : null}\n                            </h6>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <label htmlFor=\"cname\" className=\"sr-only\">Last Name</label>\n                            <input type=\"text\"\n                                   className=\"form-control\"\n                                   id=\"lastName\"\n                                   name=\"LastName\"\n                                   placeholder=\"Last Name *\"\n                                   onChange={formik.handleChange}\n                                   onBlur={formik.handleBlur}\n                                   value={formik.values.LastName}\n                            />\n                            <h6 className=\"text-danger\">  {formik.touched.LastName && formik.errors.LastName ? <div className='error'>{formik.errors.LastName}</div> : null}\n                            </h6>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                            <label htmlFor=\"cemail\" className=\"sr-only\">Email</label>\n                            <input type=\"email\"\n                                   className=\"form-control\"\n                                   id=\"email\"\n                                   name=\"Email\"\n                                   placeholder=\"Email*\"\n                                   onChange={formik.handleChange}\n                                   onBlur={formik.handleBlur}\n                                   value={formik.values.Email}\n                            />\n                            <h6 className=\"text-danger\"> {formik.touched.Email && formik.errors.Email ? <div className='error'>{formik.errors.Email}</div> : null}\n                            </h6>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <label htmlFor=\"cname\" className=\"sr-only\">Username</label>\n                            <input type=\"text\" className=\"form-control\"\n                                   id=\"username\"\n                                   name=\"username\"\n                                   placeholder=\"Username *\"\n                                   onChange={formik.handleChange}\n                                   onBlur={formik.handleBlur}\n                                   value={formik.values.username}/>\n                            <h6 className=\"text-danger\">  {formik.touched.username && formik.errors.username ? <div className='error'>{formik.errors.username}</div> : null}\n                            </h6>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                            <label htmlFor=\"cpasssword\" className=\"sr-only\">Password</label>\n                            <input type=\"password\" className=\"form-control\"\n                                   id=\"password\"\n                                   name=\"Password\"\n                                   placeholder=\"Password *\"\n                                   required\n                                   onChange={formik.handleChange}\n                                   onBlur={formik.handleBlur}\n                                   value={formik.values.Password}/>\n                            <h6 className=\"text-danger\"> {formik.touched.Password && formik.errors.Password ? <div className='error'>{formik.errors.Password}</div> : null}\n                            </h6>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <label htmlFor=\"cpassword\" className=\"sr-only\">Confirm Password</label>\n                            <input type=\"password\"\n                                   className=\"form-control\"\n                                   id=\"confirmpassword\"\n                                   name=\"confirmpassword\"\n                                   placeholder=\"Confirm Password *\"\n                                   onChange={formik.handleChange}\n                                   onBlur={formik.handleBlur}\n                                   value={formik.values.confirmpassword\n                                   }\n                            />\n                            <h6 className=\"text-danger\">  {formik.touched.confirmpassword && formik.errors.confirmpassword ? <div className='error'>{formik.errors.confirmpassword}</div> : null}\n                            </h6>\n                        </div>\n                    </div>\n\n\n                    <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                            <label htmlFor=\"cname\" className=\"sr-only\">Country</label>\n                                            <CustomSelect\n                                                className='form-control bg-transparent'\n                                                onChange={value=>formik.setFieldValue('Country',value.value)}\n                                                value={formik.values.Country}\n                                                name=\"Country\"\n                                                options={Country}\n\n                                            />\n                        \n                            <h6 className=\"text-danger\">  {formik.touched.Country && formik.errors.Country ? <div className='error'>{formik.errors.Country}</div> : null}\n                            </h6>\n                        </div>\n\n                        <div className=\"col-sm-6\">\n                            <FormikProvider value={formik}>\n\n                                <input type=\"text\"\n                                       className=\"form-control\"\n                                       id=\"Phone\"\n                                       name=\"Phone\"\n                                       onChange={formik.handleChange}\n                                       onBlur={formik.handleBlur}\n                                       value={formik.values.Phone}/>\n                                <h6 className=\"text-danger\">{formik.touched.Phone && formik.errors.Phone ?\n                                    <div className='error'>{formik.errors.Phone}</div> : null}\n                                </h6>\n                            </FormikProvider>\n\n                        </div>\n\n\n                    </div>\n\n\n                    <div className=\"form-footer\">\n                        <button type=\"submit\" className=\"btn btn-outline-primary-2\" disabled={!(formik.isValid && formik.dirty)}>\n                            <span>Sign Up</span>\n                            <i className=\"icon-long-arrow-right\"></i>\n                        </button>\n\n\n\n                    </div>\n\n                </form>\n\n                <div className=\"form-choice\">\n                    <p className=\"text-center\">or sign up with</p>\n                    <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                            <GoogleLogin\n                                clientId=\"224688907368-fpdv128j9kb8e78c3qaal8nso19u2v69.apps.googleusercontent.com\"\n                                onSuccess={responseSuccessGoogle}\n                                onFailure={responseFailureGoogle}\n                                cookiePolicy={'single_host_origin'}\n                                value={'Signup'}\n                            />\n                        </div>\n                        <div className=\"col-sm-6\">\n\n                        <FacebookLogin\n                            appId=\"218233472998386\"\n                            autoLoad={false}\n                            fields=\"name,email,picture\"\n                            textButton=\"Register\"\n                            callback={responseFacebook} />\n                    </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}