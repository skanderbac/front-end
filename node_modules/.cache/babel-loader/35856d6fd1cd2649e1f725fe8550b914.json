{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skand\\\\Desktop\\\\ForkStack-onlineWardrobe\\\\Front-end\\\\src\\\\Components\\\\AddWardrobeLeft.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { createwardrobe, getClasification } from '../Pages/WardrobeSlice';\nimport FileBase from \"react-file-base64\";\nimport { Form } from \"react-bootstrap\";\nimport axios, { post } from 'axios';\nimport useApi from \"../Hooks/useApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddWardrobeLeft() {\n  _s();\n\n  const [users, err, reload] = useApi(\"profile\");\n  console.log(user);\n  const dispatch = useDispatch();\n  const [dress, setdress] = useState({\n    image: \"\",\n    description: \"\",\n    user_id: userid,\n    size: \"M\",\n    type: \"Shirt\"\n  });\n  const [img, setImg] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n\n  const submit = () => {\n    if (dress.description === \"\" || dress.size === \"\" || dress.type === \"\") {\n      alert(\"invalid Form!\");\n    } else {\n      dispatch(createwardrobe(dress));\n      console.log(dress);\n      alert(\"added !\");\n    }\n  };\n\n  const setTheImageToURL = () => {\n    const data = new FormData();\n    data.append('file', img);\n    data.append('upload_preset', 'px7nwj8x');\n    data.append('api_key', 844693761588111);\n    data.append('cloud_name', 'skander');\n    fetch('https://api.cloudinary.com/v1_1/skander/image/upload', {\n      method: 'post',\n      body: data\n    }).then(res => res.json()).then(data => {\n      console.log(data.url);\n      setdress({ ...dress,\n        image: data.url\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    /*fetch('https://api.cloudinary.com/v1_1/skander/image/upload', {\n        method: 'post',\n        body: data\n    })\n        .then(res => res.json())\n        .then(d => {\n            console.log(d.url);\n            setUrl(d.url);\n            setImg(d.url);\n            setdress({ ...dress, image: d.url })\n        })\n        .catch(err => {\n            console.log(err);\n        });*/\n  };\n\n  const fileUpload = file => {\n    const url = 'http://127.0.0.1:8000/api/predict/';\n    const formData = new FormData();\n    formData.append('file', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  };\n\n  const fileSize = file => {\n    const url = 'http://127.0.0.1:7000/apisize';\n    const formData = new FormData();\n    formData.append('file1', file);\n    formData.append('file2', file);\n    formData.append('file3', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    console.log(\"tesst\");\n    post(url, formData, config).then(rep => console.log(rep.size));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"description\",\n        onChange: e => setdress({ ...dress,\n          description: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: img\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.File, {\n        type: \"file\",\n        multiple: false //onDone={({ base64 }) =>{setdress({ ...dress, image: base64 });setImg(base64);clasification({ ...img, image: base64 });}}\n        ,\n        onChange: e => {\n          fileUpload(e.target.files[0]);\n          setImg(e.target.files[0]);\n          fileSize(e.target.files[0]);\n          setTheImageToURL();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submit,\n        className: \"btn\",\n        children: \" submit \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddWardrobeLeft, \"hGR3lHNVIDnHE46NyjtZZmmg05Y=\", false, function () {\n  return [useApi, useDispatch];\n});\n\n_c = AddWardrobeLeft;\nexport default AddWardrobeLeft;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddWardrobeLeft\");","map":{"version":3,"sources":["C:/Users/skand/Desktop/ForkStack-onlineWardrobe/Front-end/src/Components/AddWardrobeLeft.js"],"names":["React","useReducer","useState","useDispatch","createwardrobe","getClasification","FileBase","Form","axios","post","useApi","AddWardrobeLeft","users","err","reload","console","log","user","dispatch","dress","setdress","image","description","user_id","userid","size","type","img","setImg","url","setUrl","submit","alert","setTheImageToURL","data","FormData","append","fetch","method","body","then","res","json","catch","fileUpload","file","formData","config","headers","fileSize","rep","e","target","value","files"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,cAAT,EAAwBC,gBAAxB,QAAgD,wBAAhD;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,SAAQC,IAAR,QAAmB,iBAAnB;AACA,OAAOC,KAAP,IAAgBC,IAAhB,QAA4B,OAA5B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;;;AAGA,SAASC,eAAT,GAA2B;AAAA;;AACvB,QAAM,CAACC,KAAD,EAAQC,GAAR,EAAaC,MAAb,IAAuBJ,MAAM,CAAC,SAAD,CAAnC;AAEAK,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACA,QAAMC,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC;AAACmB,IAAAA,KAAK,EAAE,EAAR;AAAaC,IAAAA,WAAW,EAAC,EAAzB;AAA4BC,IAAAA,OAAO,EAACC,MAApC;AAA2CC,IAAAA,IAAI,EAAC,GAAhD;AAAoDC,IAAAA,IAAI,EAAC;AAAzD,GAAD,CAAlC;AACA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgB1B,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAAC2B,GAAD,EAAMC,MAAN,IAAgB5B,QAAQ,CAAC,EAAD,CAA9B;;AAEA,QAAM6B,MAAM,GAAE,MAAK;AACf,QAAMZ,KAAK,CAACG,WAAN,KAAoB,EAArB,IAA6BH,KAAK,CAACM,IAAN,KAAa,EAA1C,IAAkDN,KAAK,CAACO,IAAN,KAAa,EAApE,EAAyE;AACrEM,MAAAA,KAAK,CAAC,eAAD,CAAL;AACH,KAFD,MAGI;AACAd,MAAAA,QAAQ,CAACd,cAAc,CAACe,KAAD,CAAf,CAAR;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACAa,MAAAA,KAAK,CAAC,SAAD,CAAL;AACH;AAEJ,GAVD;;AAYA,QAAMC,gBAAgB,GAAG,MAAM;AAC3B,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AAEAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBT,GAApB;AACAO,IAAAA,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6B,UAA7B;AACAF,IAAAA,IAAI,CAACE,MAAL,CAAY,SAAZ,EAAuB,eAAvB;AACAF,IAAAA,IAAI,CAACE,MAAL,CAAY,YAAZ,EAA0B,SAA1B;AAEAC,IAAAA,KAAK,CAAC,sDAAD,EAAyD;AAC1DC,MAAAA,MAAM,EAAE,MADkD;AAE1DC,MAAAA,IAAI,EAAEL;AAFoD,KAAzD,CAAL,CAIKM,IAJL,CAIUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAJjB,EAKKF,IALL,CAKUN,IAAI,IAAI;AACVnB,MAAAA,OAAO,CAACC,GAAR,CAAYkB,IAAI,CAACL,GAAjB;AACAT,MAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYE,QAAAA,KAAK,EAAEa,IAAI,CAACL;AAAxB,OAAD,CAAR;AACH,KARL,EASKc,KATL,CASW9B,GAAG,IAAI;AACVE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAXL;AAaA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACK,GAnCD;;AAqCA,QAAM+B,UAAU,GAAIC,IAAD,IAAQ;AACvB,UAAMhB,GAAG,GAAG,oCAAZ;AACA,UAAMiB,QAAQ,GAAG,IAAIX,QAAJ,EAAjB;AACAW,IAAAA,QAAQ,CAACV,MAAT,CAAgB,MAAhB,EAAuBS,IAAvB;AACA,UAAME,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AADE,KAAf;AAKA,WAAQvC,IAAI,CAACoB,GAAD,EAAMiB,QAAN,EAAeC,MAAf,CAAZ;AACH,GAVD;;AAYA,QAAME,QAAQ,GAAGJ,IAAD,IAAQ;AAEpB,UAAMhB,GAAG,GAAG,+BAAZ;AACA,UAAMiB,QAAQ,GAAG,IAAIX,QAAJ,EAAjB;AACAW,IAAAA,QAAQ,CAACV,MAAT,CAAgB,OAAhB,EAAwBS,IAAxB;AACAC,IAAAA,QAAQ,CAACV,MAAT,CAAgB,OAAhB,EAAwBS,IAAxB;AACAC,IAAAA,QAAQ,CAACV,MAAT,CAAgB,OAAhB,EAAwBS,IAAxB;AACA,UAAME,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AADE,KAAf;AAKAjC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAP,IAAAA,IAAI,CAACoB,GAAD,EAAMiB,QAAN,EAAeC,MAAf,CAAJ,CAA2BP,IAA3B,CAAiCU,GAAD,IAAOnC,OAAO,CAACC,GAAR,CAAYkC,GAAG,CAACzB,IAAhB,CAAvC;AACH,GAdD;;AAgBA,sBACI;AAAA,2BAEI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,WAAW,EAAC,aAAxD;AAAsE,QAAA,QAAQ,EAAG0B,CAAD,IAC5E/B,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYG,UAAAA,WAAW,EAAE6B,CAAC,CAACC,MAAF,CAASC;AAAlC,SAAD;AADZ;AAAA;AAAA;AAAA;AAAA,cADJ,eAKI;AAAK,QAAA,GAAG,EAAE1B;AAAV;AAAA;AAAA;AAAA;AAAA,cALJ,eAOI,QAAC,IAAD,CAAM,IAAN;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,QAAQ,EAAE,KAFd,CAGI;AAHJ;AAKI,QAAA,QAAQ,EAAGwB,CAAD,IAAO;AAACP,UAAAA,UAAU,CAACO,CAAC,CAACC,MAAF,CAASE,KAAT,CAAe,CAAf,CAAD,CAAV;AAA8B1B,UAAAA,MAAM,CAACuB,CAAC,CAACC,MAAF,CAASE,KAAT,CAAe,CAAf,CAAD,CAAN;AAA0BL,UAAAA,QAAQ,CAACE,CAAC,CAACC,MAAF,CAASE,KAAT,CAAe,CAAf,CAAD,CAAR;AAA4BrB,UAAAA,gBAAgB;AAAK;AAL/H;AAAA;AAAA;AAAA;AAAA,cAPJ,eAgBI;AAAQ,QAAA,OAAO,EAAEF,MAAjB;AAAyB,QAAA,SAAS,EAAC,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAwBH;;GA9GQpB,e;UACwBD,M,EAGZP,W;;;KAJZQ,e;AAgHT,eAAeA,eAAf","sourcesContent":["import React, {useReducer, useState} from 'react'\nimport { useDispatch } from 'react-redux'\nimport { createwardrobe,getClasification } from '../Pages/WardrobeSlice'\nimport FileBase from \"react-file-base64\";\nimport {Form} from \"react-bootstrap\";\nimport axios, { post } from 'axios';\nimport useApi from \"../Hooks/useApi\";\n\n\nfunction AddWardrobeLeft() {\n    const [users, err, reload] = useApi(\"profile\");\n\n    console.log(user)\n    const dispatch = useDispatch();\n    const [dress, setdress] = useState({image :\"\" , description:\"\",user_id:userid,size:\"M\",type:\"Shirt\"})\n    const [img, setImg] = useState(\"\")\n    const [url, setUrl] = useState(\"\")\n\n    const submit= ()=> {\n        if(  (dress.description===\"\") || (dress.size===\"\") || (dress.type===\"\") ){\n            alert(\"invalid Form!\");\n        }\n        else{\n            dispatch(createwardrobe(dress));\n            console.log(dress);\n            alert(\"added !\");\n        }\n\n    };\n\n    const setTheImageToURL = () => {\n        const data = new FormData();\n\n        data.append('file', img);\n        data.append('upload_preset', 'px7nwj8x');\n        data.append('api_key', 844693761588111);\n        data.append('cloud_name', 'skander');\n\n        fetch('https://api.cloudinary.com/v1_1/skander/image/upload', {\n            method: 'post',\n            body: data\n        })\n            .then(res => res.json())\n            .then(data => {\n                console.log(data.url);\n                setdress({ ...dress, image: data.url })\n            })\n            .catch(err => {\n                console.log(err);\n            });\n\n        /*fetch('https://api.cloudinary.com/v1_1/skander/image/upload', {\n            method: 'post',\n            body: data\n        })\n            .then(res => res.json())\n            .then(d => {\n                console.log(d.url);\n                setUrl(d.url);\n                setImg(d.url);\n                setdress({ ...dress, image: d.url })\n            })\n            .catch(err => {\n                console.log(err);\n            });*/\n    };\n\n    const fileUpload = (file)=>{\n        const url = 'http://127.0.0.1:8000/api/predict/';\n        const formData = new FormData();\n        formData.append('file',file)\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        }\n        return  post(url, formData,config)\n    }\n\n    const fileSize= (file)=>{\n\n        const url = 'http://127.0.0.1:7000/apisize';\n        const formData = new FormData();\n        formData.append('file1',file);\n        formData.append('file2',file);\n        formData.append('file3',file);\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        }\n        console.log(\"tesst\")\n        post(url, formData,config).then((rep)=>console.log(rep.size))\n    }\n\n    return (\n        <div>\n\n            <div className=\"form\">\n                <input type=\"text\" className=\"form-control\" placeholder=\"description\" onChange={(e) =>\n                    setdress({ ...dress, description: e.target.value })\n                }\n                />\n                <img src={img} />\n\n                <Form.File\n                    type=\"file\"\n                    multiple={false}\n                    //onDone={({ base64 }) =>{setdress({ ...dress, image: base64 });setImg(base64);clasification({ ...img, image: base64 });}}\n\n                    onChange={(e) => {fileUpload(e.target.files[0]);setImg(e.target.files[0]);fileSize(e.target.files[0]);setTheImageToURL(); }}\n\n                />\n\n                <button onClick={submit} className=\"btn\"> submit </button>\n            </div>\n\n        </div>\n    )\n}\n\nexport default AddWardrobeLeft\n"]},"metadata":{},"sourceType":"module"}