{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skand\\\\Desktop\\\\ForkStack-onlineWardrobe\\\\Front-end\\\\src\\\\Components\\\\AddWardrobeLeft.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { createwardrobe, getClasification } from '../Pages/WardrobeSlice';\nimport FileBase from \"react-file-base64\";\nimport { Form } from \"react-bootstrap\";\nimport axios, { post } from 'axios';\nimport useApi from \"../Hooks/useApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddWardrobeLeft() {\n  _s();\n\n  const token = sessionStorage.getItem(\"user\");\n  console.log(token);\n  const dispatch = useDispatch();\n  const [dress, setdress] = useState({\n    image: \"\",\n    description: \"\",\n    user_id: token,\n    size: \"M\",\n    type: \"Shirt\"\n  });\n  const [img, setImg] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n\n  const submit = () => {\n    if (dress.description === \"\" || dress.size === \"\" || dress.type === \"\") {\n      alert(\"invalid Form!\");\n      setTheImageToURL();\n    } else {\n      dispatch(createwardrobe(dress));\n      console.log(dress);\n      alert(\"added !\");\n      window.location.reload();\n    }\n  };\n\n  const setTheImageToURL = async () => {\n    const data = new FormData();\n    data.append('file', img);\n    data.append('upload_preset', 'px7nwj8x');\n    data.append('api_key', 844693761588111);\n    data.append('cloud_name', 'skander');\n    fetch('https://api.cloudinary.com/v1_1/skander/image/upload', {\n      method: 'post',\n      body: data\n    }).then(res => res.json()).then(data => {\n      console.log(data.url);\n      setdress({ ...dress,\n        image: data.url\n      });\n      setImg(data.url.toString());\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const fileUpload = file => {\n    const url = 'http://127.0.0.1:8000/api/predict/';\n    const formData = new FormData();\n    formData.append('file', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  };\n\n  const fileSize = file => {\n    const url = 'http://127.0.0.1:7000/apisize';\n    const formData = new FormData();\n    formData.append('file1', file);\n    formData.append('file2', file);\n    formData.append('file3', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    console.log(\"tesst\");\n    post(url, formData, config).then(rep => console.log(rep.size));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"description\",\n        onChange: e => setdress({ ...dress,\n          description: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: img\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.File, {\n        type: \"file\",\n        multiple: false //onDone={({ base64 }) =>{setdress({ ...dress, image: base64 });setImg(base64);clasification({ ...img, image: base64 });}}\n        ,\n        onChange: e => {\n          fileUpload(e.target.files[0]);\n          setImg(e.target.files[0]);\n          fileSize(e.target.files[0]);\n          setTheImageToURL();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submit,\n        className: \"btn\",\n        children: \" submit \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddWardrobeLeft, \"KQUogWsYGodA6BooeZwWTzr5LQ0=\", false, function () {\n  return [useDispatch];\n});\n\n_c = AddWardrobeLeft;\nexport default AddWardrobeLeft;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddWardrobeLeft\");","map":{"version":3,"sources":["C:/Users/skand/Desktop/ForkStack-onlineWardrobe/Front-end/src/Components/AddWardrobeLeft.js"],"names":["React","useReducer","useState","useDispatch","createwardrobe","getClasification","FileBase","Form","axios","post","useApi","AddWardrobeLeft","token","sessionStorage","getItem","console","log","dispatch","dress","setdress","image","description","user_id","size","type","img","setImg","url","setUrl","submit","alert","setTheImageToURL","window","location","reload","data","FormData","append","fetch","method","body","then","res","json","toString","catch","err","fileUpload","file","formData","config","headers","fileSize","rep","e","target","value","files"],"mappings":"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","sourcesContent":["import React, {useReducer, useState} from 'react'\nimport { useDispatch } from 'react-redux'\nimport { createwardrobe,getClasification } from '../Pages/WardrobeSlice'\nimport FileBase from \"react-file-base64\";\nimport {Form} from \"react-bootstrap\";\nimport axios, { post } from 'axios';\nimport useApi from \"../Hooks/useApi\";\n\n\nfunction AddWardrobeLeft() {\n\n    const token = sessionStorage.getItem(\"user\");\n    console.log(token)\n    const dispatch = useDispatch();\n    const [dress, setdress] = useState({image :\"\" , description:\"\",user_id:token,size:\"M\",type:\"Shirt\"})\n    const [img, setImg] = useState(\"\")\n    const [url, setUrl] = useState(\"\")\n\n    const submit= ()=> {\n        if(  (dress.description===\"\") || (dress.size===\"\") || (dress.type===\"\") ){\n            alert(\"invalid Form!\");\n            setTheImageToURL()\n        }\n        else{\n            dispatch(createwardrobe(dress));\n            console.log(dress);\n            alert(\"added !\");\n            window.location.reload();\n        }\n\n    };\n\n    const setTheImageToURL = async() => {\n        const data = new FormData();\n\n        data.append('file', img);\n        data.append('upload_preset', 'px7nwj8x');\n        data.append('api_key', 844693761588111);\n        data.append('cloud_name', 'skander');\n\n        fetch('https://api.cloudinary.com/v1_1/skander/image/upload', {\n            method: 'post',\n            body: data\n        })\n            .then(res => res.json())\n            .then(data => {\n                console.log(data.url);\n                setdress({ ...dress, image: data.url });\n                setImg(data.url.toString())\n            })\n            .catch(err => {\n                console.log(err);\n            });\n\n\n    };\n\n\n    const fileUpload = (file)=>{\n        const url = 'http://127.0.0.1:8000/api/predict/';\n        const formData = new FormData();\n        formData.append('file',file)\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        }\n        return  post(url, formData,config)\n    }\n\n\n    const fileSize= (file)=>{\n\n        const url = 'http://127.0.0.1:7000/apisize';\n        const formData = new FormData();\n        formData.append('file1',file);\n        formData.append('file2',file);\n        formData.append('file3',file);\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        }\n        console.log(\"tesst\")\n        post(url, formData,config).then((rep)=>console.log(rep.size))\n    }\n\n    return (\n        <div>\n\n            <div className=\"form\">\n                <input type=\"text\" className=\"form-control\" placeholder=\"description\" onChange={(e) =>\n                    setdress({ ...dress, description: e.target.value })\n                }\n                />\n                <img src={img} />\n\n                <Form.File\n                    type=\"file\"\n                    multiple={false}\n                    //onDone={({ base64 }) =>{setdress({ ...dress, image: base64 });setImg(base64);clasification({ ...img, image: base64 });}}\n\n                    onChange={(e) => {fileUpload(e.target.files[0]);setImg(e.target.files[0]);fileSize(e.target.files[0]);setTheImageToURL(); }}\n\n                />\n\n                <button onClick={submit} className=\"btn\"> submit </button>\n            </div>\n\n        </div>\n    )\n}\n\nexport default AddWardrobeLeft\n"]},"metadata":{},"sourceType":"module"}